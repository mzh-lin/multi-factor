# 因子收益率计算

在对因子暴露进行处理后，我们需要在每个交易日截面上，用t天的股票因子暴露对股票t+1天的收益进行回归，估计收益率参数。

结构化风险模型给出了任一股票收益率的线性分解形式：
$$
r_j=x_cf_c+\sum_iX_{ni}f_i+\sum_sX_{ns}f_s+u_n
$$
其中$$f_c$$ 为国家因子，而$$f_i$$为行业因子，$$f_s$$为风格因子,$$u_n$$为个股特质收益。

> 1. 是否加入国家因子需要进一步考虑，因为加入国家因子后，行业因子与国家因子存在多重共线性问题，需要限制行业的加权收益为0:
> $$
> \sum_iw_if_i=0
> $$
> 2. 针对线性分解形式需要注意的是，线性分解并不包含常数项，因此仅针对风险因子进行回归，而没有截距项（原因？）
>

那么对于N只股票的组合而言，组合的收益率向量为：
$$
R=Xf+U
$$
对于风险模型而言，需要在已知股票收益率R和因子载荷矩阵X的情况下，对因子收益率向量$$f$$进行估计。

## 估计方法

