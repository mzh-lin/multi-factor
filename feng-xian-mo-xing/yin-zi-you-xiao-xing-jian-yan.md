# 因子有效性检验

BARRA 从因子对收益率影响的显著程度、稳定性以及因子之间共线性问题的角度着手，给出了完整的因子有效性检验标准：

1. **Average Absolute t-stat**（单因子回归方程系数T检验值的绝对值均值）

   通常该值大于2 认为是理想的结果，表明因子对收益率的影响显著性程度较高；

2. **Percent Observe|t|>2**（单因子回归方程系数T检验值绝对值序列大于2 的占比）

   该值用以解释在测试时间范围内，因子显著性程度的分布特征；

3. **Annual Factor Return**（年化因子收益率）

   该值表明因子对收益率的贡献程度，取年化的原因在于可以与策略年化收益率有个较为直观的比较；

4. **Annual Factor Volatility**（年化因子收益的波动率）

   该值表明因子对收益率贡献的波动程度，取年化的原因同样在于可以与策略年化收益的波动率有个较为直观的比较；

5. **Factor Return Sharp Ratio**（因子收益率比因子收益波动率）

   该值衡量了经因子收益波动调整后的因子收益率情况，是考察因子稳定性的指标；

6. **Correl With HS300**（因子收益率与基准收益率的相关性）

   该值检验因子收益是否与基准收益率有较高相关性，原则上相关性越低的结果越为理想（我们一般采用沪深300 指数的收益率作为比较基准）；

7. **Factor Stability Coeff**（因子自稳定性系数）

   该值检验因子收益率的稳定性，计算公式为：
   $$
   \rho_{kt}=\frac{\sum_nv_n^{t}(x_{nk}^{t}-\bar{x}_{nk}^{t})(x_{nk}^{t+1}-\bar{x}_{nk}^{t+1})}
   {\sqrt{\sum_nv_n^{t}(x_{nk}^{t}-\bar{x}_{nk}^{t})^2}\sqrt{\sum_nv_n^{t}(x_{nk}^{t+1}-\bar{x}_{nk}^{t+1})^2}}
   $$
   其中，$$v_n^t$$是股票的回归加权权重。

8. **Variance Inflation Factor**（因子方差膨胀系数VIF值）

   利用需要检验的因子作为应变量，已通过检验的因子作为自变量，构建多元方程，并计算回归方程的$$R^2$$ ：
   $$
   X_{nk}=\sum_{k'\neq k}X_{nk'}b_{k'}+\varepsilon_{nk}
   $$
   然后，VIF 的计算公式为：
   $$
   VIF_k=\frac{1}{1-R_k^2}
   $$
   通常意义上，VIF 值越大则表明被检验因子与其他因子的共线性程度越高。经验表明，当VIF 值大于3时，该因子的共线性程度较高，应该拒绝纳入风险因子范围。

我们根据上述检验标准，对行业因子和风格因子进行有效性检验，在进行回归方程的参数估计中，我们令$$W=diag(w_1,w_2,\dots,w_n)$$，其中$$w_i$$ 为第$$i $$只股票的流通市值平方根，即在WLS估计中，我们以个股流通市值的平方根的倒数作为加权权重。